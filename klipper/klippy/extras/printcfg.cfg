[gcode_macro printcfg_tester]
gcode:
    {% if printer.printcfg.leds is defined %}
        {% set leds = printer.printcfg.leds|string %}
    {% else %}
        {% set leds = "None" %}
    {% endif %}
    {% if printer.printcfg.park_x is defined %}
        {% set parkx = printer.printcfg.park_x|float %}
    {% else %}
        {% set parkx = "None" %}
    {% endif %}
    {% if printer.printcfg.park_y is defined %}
        {% set parky = printer.printcfg.park_y|float %}
    {% else %}
        {% set parky = "None" %}
    {% endif %}
    {% set color = "success" %}
    {% set welcome = "Welcome to the PrintCFG Tester!\nThis macro will test your PrintCFG settings."%}
    {% set welcome = '<span class=' + color + '--text>' + welcome + '</span>'|string %}
    { action_respond_info( welcome ) }
    {% set color = "info" %}
    {% set led_msg = "Configured LEDs: {}".format(leds) %}
    {% set led_msg = '<span class=' + color + '--text>' + led_msg + '</span>'|string %}
    { action_respond_info( led_msg ) }
    {% set park_msg = "Configured Parking Position: {},{}".format( parkx, parky ) %}
    {% set park_msg = '<span class=' + color + '--text>' + park_msg + '</span>'|string %}
    { action_respond_info( park_msg ) }
